/* Universal Directions Component - All Transport Modes */

.walking-directions {
  background: rgba(0, 0, 0, 0.5);
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  margin: 4px 0;
  --mode-color: rgba(0, 212, 255, 0.9);
  --mode-bg: rgba(0, 212, 255, 0.08);
}

/* Mode-specific border accent */
.walking-directions.mode-walk { border-left: 3px solid rgba(0, 212, 255, 0.6); }
.walking-directions.mode-bus { border-left: 3px solid rgba(255, 149, 0, 0.6); }
.walking-directions.mode-train { border-left: 3px solid rgba(94, 196, 77, 0.6); }
.walking-directions.mode-boat { border-left: 3px solid rgba(0, 199, 190, 0.6); }
.walking-directions.mode-taxi { border-left: 3px solid rgba(255, 204, 0, 0.6); }

/* Header */
.wd-header {
  padding: 12px 14px;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  cursor: pointer;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  transition: background 0.2s ease;
  gap: 10px;
}

.wd-header:hover {
  background: rgba(255, 255, 255, 0.03);
}

.wd-route-summary {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  flex: 1;
  min-width: 0;
}

.wd-mode-icon {
  font-size: 18px;
  flex-shrink: 0;
  margin-top: 1px;
}

.wd-route-text {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 6px;
  flex: 1;
  min-width: 0;
}

.wd-origin {
  font-size: 12px;
  font-weight: 600;
  color: var(--mode-color);
}

.wd-arrow {
  color: rgba(255, 255, 255, 0.3);
  display: flex;
  align-items: center;
  flex-shrink: 0;
}

.wd-destination {
  font-size: 12px;
  font-weight: 600;
  color: rgba(52, 199, 89, 0.95);
}

.wd-meta {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}

.wd-time,
.wd-distance,
.wd-fare,
.wd-bus-number,
.wd-service {
  font-size: 10px;
  font-weight: 600;
  padding: 3px 7px;
  border-radius: 6px;
}

.wd-time {
  color: rgba(255, 255, 255, 0.8);
  background: rgba(255, 255, 255, 0.08);
}

.wd-distance {
  color: rgba(0, 212, 255, 0.8);
  background: rgba(0, 212, 255, 0.1);
}

.wd-fare {
  color: rgba(52, 199, 89, 0.9);
  background: rgba(52, 199, 89, 0.12);
}

.wd-bus-number {
  color: rgba(255, 149, 0, 0.95);
  background: rgba(255, 149, 0, 0.15);
}

.wd-service {
  color: rgba(0, 176, 80, 0.95);
  background: rgba(0, 176, 80, 0.15);
}

.wd-expand-icon {
  font-size: 16px;
  font-weight: 300;
  color: rgba(255, 255, 255, 0.4);
  width: 18px;
  text-align: center;
}

/* Notes */
.wd-notes {
  padding: 8px 14px;
  background: rgba(255, 214, 10, 0.08);
  font-size: 11px;
  color: rgba(255, 214, 10, 0.9);
  display: flex;
  align-items: center;
  gap: 6px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.04);
}

.wd-note-icon {
  flex-shrink: 0;
}

/* Timeline */
.wd-timeline {
  padding: 14px;
}

.wd-step {
  display: flex;
  gap: 12px;
  opacity: 0;
  transform: translateX(-8px);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.wd-step.visible {
  opacity: 1;
  transform: translateX(0);
}

/* Connector (icons and lines) */
.wd-connector {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 24px;
  flex-shrink: 0;
}

.wd-icon-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  z-index: 2;
}

.wd-line {
  width: 2px;
  flex: 1;
  min-height: 14px;
  margin: 4px 0;
  border-radius: 1px;
  background: rgba(255, 255, 255, 0.12);
  transition: background 0.3s ease;
}

/* Step content */
.wd-content {
  flex: 1;
  padding-bottom: 14px;
  min-width: 0;
}

.wd-step:last-child .wd-content {
  padding-bottom: 0;
}

.wd-instruction {
  font-size: 12px;
  line-height: 1.45;
  color: rgba(255, 255, 255, 0.9);
  margin: 0 0 4px 0;
}

/* Step type specific colors */
.wd-step.start .wd-instruction { color: rgba(0, 212, 255, 0.95); font-weight: 500; }
.wd-step.arrive .wd-instruction,
.wd-step.destination .wd-instruction { color: rgba(52, 199, 89, 0.95); font-weight: 500; }

/* Bus */
.wd-step.bus_board .wd-instruction { color: rgba(52, 199, 89, 0.95); }
.wd-step.bus_alight .wd-instruction { color: rgba(255, 69, 58, 0.9); }
.wd-step.bus .wd-instruction { color: rgba(255, 149, 0, 0.95); }

/* Train */
.wd-step.train_board .wd-instruction,
.wd-step.board_bts .wd-instruction,
.wd-step.board_mrt .wd-instruction { color: rgba(52, 199, 89, 0.95); }
.wd-step.train_alight .wd-instruction,
.wd-step.exit_bts .wd-instruction,
.wd-step.exit_mrt .wd-instruction { color: rgba(255, 69, 58, 0.9); }
.wd-step.transfer .wd-instruction { color: rgba(175, 82, 222, 0.95); }
.wd-step.bts .wd-instruction { color: rgba(94, 196, 77, 0.95); }
.wd-step.mrt .wd-instruction { color: rgba(0, 102, 179, 0.95); }
.wd-step.arl .wd-instruction { color: rgba(227, 25, 55, 0.95); }

/* Boat */
.wd-step.boat_board .wd-instruction { color: rgba(52, 199, 89, 0.95); }
.wd-step.boat .wd-instruction,
.wd-step.ferry .wd-instruction { color: rgba(0, 199, 190, 0.95); }
.wd-step.pier .wd-instruction { color: rgba(0, 199, 190, 0.8); }

/* Taxi */
.wd-step.pickup .wd-instruction { color: rgba(52, 199, 89, 0.95); }
.wd-step.dropoff .wd-instruction { color: rgba(255, 69, 58, 0.9); }
.wd-step.taxi .wd-instruction,
.wd-step.grab .wd-instruction { color: rgba(255, 204, 0, 0.95); }

/* Step details */
.wd-step-details {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-bottom: 4px;
}

.wd-road,
.wd-landmark,
.wd-stop-name,
.wd-station,
.wd-pier {
  font-size: 10px;
  color: rgba(255, 255, 255, 0.5);
}

.wd-landmark { color: rgba(255, 159, 10, 0.7); }
.wd-station { font-weight: 500; color: rgba(255, 255, 255, 0.7); }

.wd-line-badge {
  font-size: 9px;
  font-weight: 700;
  color: white;
  padding: 2px 6px;
  border-radius: 4px;
}

.wd-bus-badge {
  font-size: 10px;
  font-weight: 600;
  color: rgba(255, 149, 0, 0.95);
  background: rgba(255, 149, 0, 0.12);
  padding: 2px 6px;
  border-radius: 4px;
}

.wd-direction {
  font-size: 10px;
  color: rgba(255, 255, 255, 0.5);
  font-style: italic;
}

.wd-boat-flag {
  font-size: 9px;
  font-weight: 600;
  padding: 2px 6px;
  border-radius: 4px;
  background: rgba(0, 199, 190, 0.15);
  color: rgba(0, 199, 190, 0.9);
}

.wd-traffic {
  font-size: 9px;
  font-weight: 500;
  padding: 2px 6px;
  border-radius: 4px;
}

.wd-traffic.traffic-light { background: rgba(52, 199, 89, 0.15); color: rgba(52, 199, 89, 0.9); }
.wd-traffic.traffic-moderate { background: rgba(255, 214, 10, 0.15); color: rgba(255, 214, 10, 0.9); }
.wd-traffic.traffic-heavy { background: rgba(255, 69, 58, 0.15); color: rgba(255, 69, 58, 0.9); }

.wd-toll {
  font-size: 9px;
  color: rgba(175, 82, 222, 0.8);
  background: rgba(175, 82, 222, 0.1);
  padding: 2px 6px;
  border-radius: 4px;
}

/* Duration/distance/stops badges */
.wd-step-meta {
  display: flex;
  gap: 5px;
  flex-wrap: wrap;
}

.wd-duration,
.wd-step-distance,
.wd-stops,
.wd-wait,
.wd-step-fare {
  font-size: 9px;
  font-weight: 600;
  padding: 2px 5px;
  border-radius: 4px;
}

.wd-duration {
  color: rgba(255, 255, 255, 0.5);
  background: rgba(255, 255, 255, 0.06);
}

.wd-step-distance {
  color: rgba(0, 212, 255, 0.6);
  background: rgba(0, 212, 255, 0.08);
}

.wd-stops {
  color: rgba(175, 82, 222, 0.8);
  background: rgba(175, 82, 222, 0.1);
}

.wd-wait {
  color: rgba(255, 214, 10, 0.8);
  background: rgba(255, 214, 10, 0.1);
}

.wd-step-fare {
  color: rgba(52, 199, 89, 0.8);
  background: rgba(52, 199, 89, 0.1);
}

/* Start step pulse */
.wd-step.start .wd-icon-wrapper::after {
  content: '';
  position: absolute;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 2px solid var(--mode-color, rgba(0, 212, 255, 0.3));
  animation: startPulse 2s ease-in-out infinite;
}

@keyframes startPulse {
  0%, 100% { transform: scale(0.8); opacity: 0.6; }
  50% { transform: scale(1.2); opacity: 0; }
}

/* Destination glow */
.wd-step.arrive .wd-icon-wrapper::after,
.wd-step.destination .wd-icon-wrapper::after {
  content: '';
  position: absolute;
  width: 26px;
  height: 26px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(52, 199, 89, 0.2) 0%, transparent 70%);
  animation: destGlow 1.5s ease-in-out infinite alternate;
}

@keyframes destGlow {
  from { transform: scale(1); opacity: 0.4; }
  to { transform: scale(1.3); opacity: 0.7; }
}

/* Responsive */
@media (max-width: 380px) {
  .wd-header { padding: 10px 12px; }
  .wd-route-text { gap: 4px; }
  .wd-origin, .wd-destination { font-size: 11px; }
  .wd-instruction { font-size: 11px; }
  .wd-timeline { padding: 10px; }
  .wd-meta { gap: 4px; }
}

/* Light theme */
[data-theme='light'] .walking-directions {
  background: rgba(255, 255, 255, 0.9);
  border-color: rgba(0, 0, 0, 0.1);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
}

[data-theme='light'] .wd-header { border-bottom-color: rgba(0, 0, 0, 0.06); }
[data-theme='light'] .wd-header:hover { background: rgba(0, 0, 0, 0.02); }
[data-theme='light'] .wd-time { background: rgba(0, 0, 0, 0.05); color: rgba(0, 0, 0, 0.6); }
[data-theme='light'] .wd-expand-icon { color: rgba(0, 0, 0, 0.4); }
[data-theme='light'] .wd-line { background: rgba(0, 0, 0, 0.1); }
[data-theme='light'] .wd-instruction { color: rgba(0, 0, 0, 0.85); }
[data-theme='light'] .wd-road, 
[data-theme='light'] .wd-direction { color: rgba(0, 0, 0, 0.45); }
[data-theme='light'] .wd-duration { background: rgba(0, 0, 0, 0.04); color: rgba(0, 0, 0, 0.5); }
[data-theme='light'] .wd-notes { background: rgba(255, 214, 10, 0.12); }
